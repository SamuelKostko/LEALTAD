<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

    <title>Wallet de Puntos</title>

    <meta name="theme-color" content="#000000" id="themeColor" />
    <meta name="color-scheme" content="light dark" />
    <meta name="description" content="PWA de una sola página estilo Wallet neo-futurista." />

    <!-- Android/Chrome: allow standalone (installed web app) -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="Wallet" />

    <!-- iOS: standalone + status bar + icons -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Wallet" />
    <link rel="apple-touch-icon" href="icons/icon.svg" />

    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="icon" href="icons/icon.svg" type="image/svg+xml" />

    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <div class="bg" aria-hidden="true"></div>

    <div class="app" id="app">
      <header class="header">
        <div class="header__text">
          <div class="header__greeting">Hola, SAMUEL</div>
          <div class="header__label">Tu Wallet de puntos</div>
        </div>

        <button class="avatar" type="button" aria-label="Perfil">
          <span class="avatar__ring" aria-hidden="true"></span>
          <span class="avatar__initials">A</span>
        </button>
      </header>

      <main class="content" id="scroll" aria-label="Contenido">
        <section class="card card--client" aria-label="Tarjeta digital de puntos">
          <img class="card__art" src="images/card-cliente.png" alt="Tarjeta de puntos" />
          <div class="card__sheen" aria-hidden="true"></div>

          <div class="card__top">
            <div class="brand" aria-label="Marca">
              <div class="brand__word">SAMUEL</div>
              <div class="brand__sub">Rewards</div>
            </div>

            <div class="chip" aria-hidden="true">
              <div class="chip__inner"></div>
              <div class="chip__line chip__line--a"></div>
              <div class="chip__line chip__line--b"></div>
              <div class="chip__line chip__line--c"></div>
            </div>
          </div>

          <div class="balance">
            <div class="balance__label">Saldo de puntos</div>
            <div class="balance__value" id="points">12
480</div>
          </div>

          <div class="card__bottom">
            <div class="card__divider" aria-hidden="true"></div>
            <div class="card__meta">Actualizado hoy</div>
          </div>
        </section>

        <section class="activity" aria-label="Actividad reciente">
          <h2 class="activity__title">Actividad</h2>

          <ul class="activity__list" role="list">
            <li class="activity__item">
              <span class="activity__icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="none">
                  <path d="M7 7h10v10H7z" stroke="currentColor" stroke-width="1.6" opacity="0.9" />
                  <path d="M9.2 9.2h5.6" stroke="currentColor" stroke-width="1.6" opacity="0.6" />
                </svg>
              </span>
              <span class="activity__text">
                <span class="activity__name">Compra</span>
                <span class="activity__time">Hoy</span>
              </span>
              <span class="activity__amount">+200</span>
            </li>

            <li class="activity__item">
              <span class="activity__icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="none">
                  <path d="M12 3v18" stroke="currentColor" stroke-width="1.6" opacity="0.7" />
                  <path d="M7 12h10" stroke="currentColor" stroke-width="1.6" opacity="0.9" />
                </svg>
              </span>
              <span class="activity__text">
                <span class="activity__name">Bono</span>
                <span class="activity__time">Ayer</span>
              </span>
              <span class="activity__amount">+120</span>
            </li>

            <li class="activity__item">
              <span class="activity__icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="none">
                  <path d="M7 9h10" stroke="currentColor" stroke-width="1.6" opacity="0.85" />
                  <path d="M7 15h7" stroke="currentColor" stroke-width="1.6" opacity="0.6" />
                  <path d="M17 15l-1.8-1.8" stroke="currentColor" stroke-width="1.6" opacity="0.6" />
                </svg>
              </span>
              <span class="activity__text">
                <span class="activity__name">Canje</span>
                <span class="activity__time">Hace 3 dias</span>
              </span>
              <span class="activity__amount activity__amount--neg">-50</span>
            </li>
          </ul>
        </section>
      </main>

      <div class="cta" aria-label="Acción principal">
        <button class="qr" id="qrButton" type="button" aria-label="Mostrar codigo QR">
          <span class="qr__glow" aria-hidden="true"></span>
          <svg class="qr__icon" viewBox="0 0 24 24" width="22" height="22" fill="none" aria-hidden="true">
            <path d="M4 4h6v6H4V4Zm10 0h6v6h-6V4ZM4 14h6v6H4v-6Zm10 4h2v2h-2v-2Zm0-4h6v2h-2v2h-2v-2h-2v-2Z" fill="currentColor" opacity="0.92" />
          </svg>
        </button>
      </div>
    </div>
    <!-- Overlay de escaneo QR -->
    <div class="scanner" id="qrScanner" aria-hidden="true">
      <div class="scanner__backdrop"></div>
      <div class="scanner__frame">
        <header class="scanner__header">
          <span class="scanner__title">Escanear código</span>
          <button class="scanner__close" id="qrClose" type="button" aria-label="Cerrar escáner">
            ✕
          </button>
        </header>

        <div class="scanner__body">
          <video id="qrVideo" class="scanner__video" playsinline></video>
          <div class="scanner__reticle" aria-hidden="true"></div>
          <canvas id="qrCanvas" class="scanner__canvas" aria-hidden="true"></canvas>
        </div>

        <footer class="scanner__footer">
          <span class="scanner__hint" id="qrHint">Apunta al código QR para escanear</span>
          <span class="scanner__result" id="qrResult" aria-live="polite"></span>
        </footer>
      </div>
    </div>

    <!-- Librería ligera de decodificación QR -->
    <script src="https://unpkg.com/jsqr@1.4.0/dist/jsQR.js" crossorigin="anonymous"></script>
    <script src="app.js" defer></script>
  </body>
</html>
